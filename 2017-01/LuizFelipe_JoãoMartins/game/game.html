<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1.0"/>

	<title>Desenvolvimento Web | Final</title>
	
	<!-- CSS -->
	<link href="favicon.ico"/>
	<link rel="stylesheet" type="text/css" href="css/bootstrap.css">
	<link rel="stylesheet" type="text/css" href="css/font-awesome.css">
	<link rel="stylesheet" type="text/css" href="css/style.css">
	<link href="https://fonts.googleapis.com/css?family=Vibur" rel="stylesheet">
	<script src="https://use.fontawesome.com/d40adb3d22.js"></script>
</head>

<body>
	<!-- Modal (Leaders Scoreboard) -->
	<div class="modal fade" id="scoreboardModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title modal-scoreboard-title" id="exampleModalLabel">Líderes em Pontuação <i class="fa fa-users" aria-hidden="true"></i></h5>
				</div>
				<div class="modal-body">
					<ul class="list-group" id="list-group-pontuacao">
						<li class="list-group-item">
							<span class="badge">14</span>
							<i class="fa fa-user" aria-hidden="true"></i> Felipe Fronchetti
						</li>
						<li class="list-group-item">
							<span class="badge">12</span>
							<i class="fa fa-user" aria-hidden="true"></i> João Filho
						</li>
					</ul>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary center-block" style="min-width: 50%;" data-dismiss="modal"><b>Fechar</b></button>
				</div>
			</div>
		</div>
	</div>

	<!-- Navbar --> 
	<nav class="navbar navbar-inverse">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
				<span class="sr-only">Abrir</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<a class="navbar-brand">Game Center <i class="fa fa-gamepad" aria-hidden="true"></i></a>
		</div>
		<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
			<ul class="nav navbar-nav">
				<li><a class="item" data-toggle="modal" data-target="#scoreboardModal">Placar dos Líderes</i></a></li>
			</ul>

			<ul class="nav navbar-nav navbar-right">
				<li class="dropdown">
					<a class="entrar dropdown-toggle" data-toggle="dropdown"><i class="fa fa-sign-in" aria-hidden="true"></i> Entrar <b class="caret"></b></a>
					<ul class="dropdown-menu" style="padding: 15px; min-width: 250px;">
						<li>
							<div class="row">
								<div class="col-md-12">
									<form class="form" role="form" method="post" action="login" accept-charset="UTF-8" id="login-nav">
										<div class="form-group">
											<label class="sr-only" for="exampleInputEmail2">Endereço de e-mail</label>
											<div class="input-group-addon"><b>USUÁRIO </b><i class="fa fa-user" aria-hidden="true"></i></div>
											<input type="email" class="form-control" id="usuario" placeholder="Digite seu usuário aqui..." required>
										</div>
										<div class="form-group">
											<label class="sr-only" for="exampleInputPassword2">Senha</label>
											<div class="input-group-addon"><b>SENHA </b><i class="fa fa-key" aria-hidden="true"></i></div>
											<input type="password" class="form-control" id="senha" placeholder="Digite sua senha aqui..." required>
										</div>
										<div class="checkbox">
											<label>
												<input type="checkbox"> Lembrar minhas informações
											</label>
										</div>
										<div class="form-group">
											<button id="login" type="submit" class="btn btn-success btn-block"><b>Acessar</b></button>
										</div>
									</form>
								</div>
							</div>
						</li>
					</ul>
				</li>
			</ul>
		</div>
	</nav>

	<!-- Game Container & Trophies -->
	<div class="outer container">
		<div class="row">
			<div id="game-container" class="col-md-8"></div>
			<div class="trophies-container col-md-4">
				<div id="list-group" class="trophies list-group">
					<a href="#" class="trophy-list-header list-group-item disabled"><b>Troféus</b> <i class="fa fa-trophy" aria-hidden="true"></i>
					</a> 
					<a href="#" class="list-group-item" id="default-item">
						<h4 class="list-group-item-heading">Aguardando início do jogo</h4>
						<p class="list-group-item-text">Espere um instante! Os seus troféus serão carregados assim que o jogo for iniciado.</p>
					</a>
				</div>
			</div>
		</div>
	</div>

	<!-- Screenshots -->
	<div class="screenshots-container-header container">
		<span class="screenshots-title">Capturas de Tela <i class="fa fa-picture-o" aria-hidden="true"></i></span><br>
	</div>
	<div class="container screenshots-container">
		<div class='row'>
			<div class='col-md-12'>
				<div class='col-md-12' id="screenshots">
					<h4 style="align: center;" id="screen-default"><b><center>Logo mais suas capturas serão carregadas</center></b></h4>				
				</div>
				<small style="color: black !important; margin-bottom: 10px;">Use a tecla <kbd>P</kbd> para capturar uma imagem! </small>
			</div>
		</div>
	</div>
</div>


<!-- Creates the bootstrap modal where the image will appear -->
<div class="modal fade" id="imagemodal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
        <h4 class="modal-title" id="myModalLabel">Image preview</h4>
      </div>
      <div class="modal-body">
        <img src="" id="imagepreview" style="width: 400px; height: 264px;" >
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<!-- JavaScript -->
<script src='js/lib/jquery-3.2.0.js'></script>
<script src="js/lib/bootstrap.js"></script>

<!-- Phaser -->
<script src="js/lib/phaser.js"></script>
<script src="js/player.js"></script>
<script src="js/items.js"></script>
<script src="js/gamecenter.js"></script>
<script src="js/screens.js"></script>
<script src="js/enemies.js"></script>
<script src="js/game.js"></script>

<script type="text/javascript">
	var isLogin = true;
	$('#login').on('click', function(event) {
		var usuario = $("#usuario").val();
		var senha = $("#senha").val();
		ServerComm.queryProfile(usuario,{password:senha}, (response) => verifyUser(response));
	});

	function verifyUser(response) {
		if(response["response"] === "error"){				
			var usuario = $("#usuario").val();
			var senha = $("#senha").val();
			user_id = usuario;
			ServerComm.addProfile(usuario,{password:senha, email:'default@default.com', lastLogin:'28/06/2017'}, (response) => verifyAddProfile(response));
		} else {
			user_id = $("#usuario").val();
			alert('Logado com sucesso!')
		}
	} 

	function verifyAddProfile(response){
		alert('Novo jogador criado, seja bem vindo!')
	}
</script>

</body>
</html>
